{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\D.Sinchan\\\\Desktop\\\\others1\\\\Accerlerlab\\\\client\\\\src\\\\components\\\\followingCard\\\\FollowingCard.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useSelector } from \"react-redux\";\nimport './followingCard.css';\nimport User from '../User/User';\nimport { useState, useEffect } from 'react';\nimport { getUser } from '../../api/UserRequests';\nimport { useParams } from 'react-router-dom';\nimport { getUserById } from '../../actions/UserAction';\nimport { useDispatch } from 'react-redux';\nimport { Loader } from '@mantine/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FollowingCard = () => {\n  _s();\n  const dispatch = useDispatch();\n  const params = useParams();\n  const authUser = useSelector(state => state.authReducer.authData.user);\n  const [user, setUser] = useState(authUser);\n  const [modalOpened, setModalOpened] = useState(false);\n  const [loading, setLoading] = useState(false);\n  // console.log(user)\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (params.id) {\n        setLoading(true);\n        try {\n          const profileUser = await dispatch(getUserById(params.id));\n          // console.log(profileUser)\n          setUser(profileUser);\n          setLoading(false);\n        } catch (error) {\n          console.error(error);\n        }\n      } else {\n        setUser(authUser);\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [dispatch, params.id, authUser]);\n  const [followersData, setFollowersData] = useState([]);\n  const [followingData, setFollowingData] = useState([]);\n  const [userData, setUserData] = useState(\"followers\");\n  useEffect(() => {\n    const fetchDataForFollowersAndFollowing = async () => {\n      setLoading(true);\n      const followerDataPromises = user.followers.map(async followerId => {\n        const follower = await getUser(followerId);\n        return follower;\n      });\n      const followingDataPromises = user.following.map(async followingId => {\n        const following = await getUser(followingId);\n        return following;\n      });\n      const [followers, following] = await Promise.all([Promise.all(followerDataPromises), Promise.all(followingDataPromises)]);\n      setFollowersData(followers);\n      setFollowingData(following);\n      setLoading(false);\n    };\n    fetchDataForFollowersAndFollowing();\n  }, [user.followers, user.following]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex jcc aic w-100 \",\n    children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"followingCard \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex  w-100 jcsa p-10 aic g-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${userData === \"followers\" ? \"brbt\" : \" \"} flex g-10 fwb  w-100 p-5 jcc aic cp`,\n          onClick: () => setUserData(\"followers\"),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: user.followers.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Followers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${userData === \"followings\" ? \"brbt\" : \" \"} flex g-10 fwb  w-100 p-5 jcc aic cp`,\n          onClick: () => setUserData(\"followings\"),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: user.following.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Following\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex fd-col  w-100 g-10\",\n        children: userData === \"followers\" ? followersData.map((following, id) => {\n          return /*#__PURE__*/_jsxDEV(User, {\n            person: following.data,\n            location: \"modal\"\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 12\n          }, this);\n        }) : followingData.map((following, id) => {\n          return /*#__PURE__*/_jsxDEV(User, {\n            person: following.data,\n            location: \"modal\"\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 18\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 11\n  }, this);\n};\n_s(FollowingCard, \"g3xzEcvet896whi8ynZSgMUTWwA=\", false, function () {\n  return [useDispatch, useParams, useSelector];\n});\n_c = FollowingCard;\nexport default FollowingCard;\nvar _c;\n$RefreshReg$(_c, \"FollowingCard\");","map":{"version":3,"names":["React","useSelector","User","useState","useEffect","getUser","useParams","getUserById","useDispatch","Loader","jsxDEV","_jsxDEV","FollowingCard","_s","dispatch","params","authUser","state","authReducer","authData","user","setUser","modalOpened","setModalOpened","loading","setLoading","fetchData","id","profileUser","error","console","followersData","setFollowersData","followingData","setFollowingData","userData","setUserData","fetchDataForFollowersAndFollowing","followerDataPromises","followers","map","followerId","follower","followingDataPromises","following","followingId","Promise","all","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","person","data","location","_c","$RefreshReg$"],"sources":["C:/Users/D.Sinchan/Desktop/others1/Accerlerlab/client/src/components/followingCard/FollowingCard.jsx"],"sourcesContent":["import React from 'react'\nimport {  useSelector } from \"react-redux\";\nimport './followingCard.css'\nimport User from '../User/User';\nimport { useState,useEffect } from 'react';\nimport {  getUser } from '../../api/UserRequests';\nimport { useParams } from 'react-router-dom';\nimport { getUserById } from '../../actions/UserAction';\nimport { useDispatch } from 'react-redux';\nimport { Loader } from '@mantine/core';\n\n\nconst FollowingCard = () => {\n  const dispatch = useDispatch()\n  const params = useParams()\n\n  \n    \n    const authUser = useSelector((state) => state.authReducer.authData.user);\n    const [user, setUser] = useState(authUser);\n    const [modalOpened, setModalOpened] = useState(false);\n    const [loading,setLoading] = useState(false)\n    // console.log(user)\n\n\n    useEffect(() => {\n      const fetchData = async () => {\n        if (params.id) {\n          setLoading(true)\n        \n          try {\n            const profileUser = await dispatch(getUserById(params.id));\n            // console.log(profileUser)\n            setUser(profileUser);\n            setLoading(false)\n          } catch (error) {\n         \n            console.error(error);\n            \n          }\n        } else {\n          setUser(authUser);\n          setLoading(false)\n        }\n      };\n  \n      fetchData();\n    }, [dispatch, params.id, authUser]);\n\n\n\n  \n\n\n    const [followersData, setFollowersData] = useState([]);\n  const [followingData, setFollowingData] = useState([]);\n\n\n  const [userData,setUserData] = useState(\"followers\")\n\n\n\n  useEffect(() => {\n    const fetchDataForFollowersAndFollowing = async () => {\n      setLoading(true)\n     \n      const followerDataPromises = user.followers.map(async (followerId) => {\n        const follower = await getUser(followerId);\n        return follower;\n      });\n\n      const followingDataPromises = user.following.map(async (followingId) => {\n        const following = await getUser(followingId);\n    \n        return following;\n      });\n\n      const [followers, following] = await Promise.all([\n        Promise.all(followerDataPromises),\n        Promise.all(followingDataPromises),\n      ]);\n\n      setFollowersData(followers);\n      setFollowingData(following);\n      setLoading(false)\n    };\n\n    fetchDataForFollowersAndFollowing();\n  }, [user.followers, user.following]);\n\n  return (<div className='flex jcc aic w-100 '>\n\n    {\n      loading ? ( <Loader/>):(\n\n    \n \n\n    <div className='followingCard '>\n        \n        <div className='flex  w-100 jcsa p-10 aic g-5'>\n        <div className={`${userData===\"followers\" ? \"brbt\":\" \"} flex g-10 fwb  w-100 p-5 jcc aic cp`} onClick={()=>setUserData(\"followers\")}>\n        <span>{user.followers.length}</span>\n  <span>Followers</span>\n\n</div>\n{/* <div className=\"vl\"></div> */}\n<div className={`${userData===\"followings\" ? \"brbt\":\" \"} flex g-10 fwb  w-100 p-5 jcc aic cp`}  onClick={()=>setUserData(\"followings\")}>\n<span>{user.following.length}</span>\n  <span>Following</span>\n \n</div>\n        </div>\n   \n\n\n\n   <div className='flex fd-col  w-100 g-10'>\n    \n    { userData === \"followers\" ? (\n followersData.map((following, id) => {\n  \n  return   <User person={following.data} location='modal' key={id} />\n\n  })\n\n    ) :( \n\n      followingData.map((following, id) => {\n    \n    \n        return   <User person={following.data} location='modal' key={id} />\n        \n        \n         \n        })\n    )\n\n    }\n  \n\n\n\n\n   </div>\n\n\n    </div>\n\n)\n}\n    </div>\n  )\n}\n\nexport default FollowingCard"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}