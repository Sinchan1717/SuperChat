{"ast":null,"code":"import * as UserApi from \"../api/UserRequests\";\nexport const updateUser = (id, formData) => async dispatch => {\n  dispatch({\n    type: \"UPDATING_START\"\n  });\n  try {\n    const {\n      data\n    } = await UserApi.updateUser(id, formData);\n    console.log(\"Action ko receive hoa hy ye : \", data);\n    dispatch({\n      type: \"UPDATING_SUCCESS\",\n      data: data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"UPDATING_FAIL\"\n    });\n  }\n};\nexport const followUser = (id, data) => async (dispatch, getState) => {\n  try {\n    // Make the API call to follow the user\n    await UserApi.followUser(id, data);\n\n    // Update the user's data in the Redux store\n    const state = getState();\n    const updatedUser = {\n      ...state.authReducer.authData.user\n    };\n    updatedUser.following.push(id);\n\n    // Dispatch actions to update the user's data and the follow state\n    dispatch({\n      type: \"FOLLOW_USER\",\n      data: id\n    });\n    dispatch({\n      type: \"UPDATE_USER_DATA\",\n      data: updatedUser\n    });\n  } catch (error) {\n    // Handle errors\n  }\n};\nexport const unfollowUser = (id, data) => async (dispatch, getState) => {\n  try {\n    // Make the API call to unfollow the user\n    await UserApi.unfollowUser(id, data);\n\n    // Update the user's data in the Redux store\n    const state = getState();\n    const updatedUser = {\n      ...state.authReducer.authData.user\n    };\n    updatedUser.following = updatedUser.following.filter(followedId => followedId !== id);\n\n    // Dispatch actions to update the user's data and the follow state\n    dispatch({\n      type: \"UNFOLLOW_USER\",\n      data: id\n    });\n    dispatch({\n      type: \"UPDATE_USER_DATA\",\n      data: updatedUser\n    });\n  } catch (error) {\n    // Handle errors\n  }\n};\nexport const getUserById = id => async dispatch => {\n  dispatch({\n    type: \"GET_USER_START\"\n  });\n  try {\n    const {\n      data\n    } = await UserApi.getUser(id);\n    dispatch({\n      type: \"GET_USER_SUCCESS\",\n      data\n    });\n    return data; // Return the user data\n  } catch (error) {\n    dispatch({\n      type: \"GET_USER_FAIL\"\n    });\n    throw error;\n  }\n};","map":{"version":3,"names":["UserApi","updateUser","id","formData","dispatch","type","data","console","log","error","followUser","getState","state","updatedUser","authReducer","authData","user","following","push","unfollowUser","filter","followedId","getUserById","getUser"],"sources":["C:/Users/D.Sinchan/Desktop/others1/MERN_Social_Media_App-master/client/src/actions/UserAction.js"],"sourcesContent":["import * as UserApi from \"../api/UserRequests\";\n\n\nexport const updateUser=(id, formData)=> async(dispatch)=> {\n    dispatch({type: \"UPDATING_START\"})\n    try{\n        const {data} = await UserApi.updateUser(id, formData);\n        console.log(\"Action ko receive hoa hy ye : \",data)\n        dispatch({type: \"UPDATING_SUCCESS\", data: data})\n    }   \n    catch(error){\n        dispatch({type: \"UPDATING_FAIL\"})\n    }\n}\n\n\nexport const followUser = (id, data) => async (dispatch, getState) => {\n    try {\n      // Make the API call to follow the user\n      await UserApi.followUser(id, data);\n  \n      // Update the user's data in the Redux store\n      const state = getState();\n      const updatedUser = { ...state.authReducer.authData.user };\n      updatedUser.following.push(id);\n  \n      // Dispatch actions to update the user's data and the follow state\n      dispatch({ type: \"FOLLOW_USER\", data: id });\n      dispatch({ type: \"UPDATE_USER_DATA\", data: updatedUser });\n    } catch (error) {\n      // Handle errors\n    }\n  };\n  \n  export const unfollowUser = (id, data) => async (dispatch, getState) => {\n    try {\n      // Make the API call to unfollow the user\n      await UserApi.unfollowUser(id, data);\n  \n      // Update the user's data in the Redux store\n      const state = getState();\n      const updatedUser = { ...state.authReducer.authData.user };\n      updatedUser.following = updatedUser.following.filter((followedId) => followedId !== id);\n  \n      // Dispatch actions to update the user's data and the follow state\n      dispatch({ type: \"UNFOLLOW_USER\", data: id });\n      dispatch({ type: \"UPDATE_USER_DATA\", data: updatedUser });\n    } catch (error) {\n      // Handle errors\n    }\n  };\n  \n\nexport const  getUserById = (id) => async (dispatch) => {\n    dispatch({ type: \"GET_USER_START\" });\n  \n    try {\n      const { data } = await UserApi.getUser(id);\n      dispatch({ type: \"GET_USER_SUCCESS\", data });\n      return data; // Return the user data\n    } catch (error) {\n      dispatch({ type: \"GET_USER_FAIL\" });\n      throw error;\n    }\n  };\n\n\n\n\n"],"mappings":"AAAA,OAAO,KAAKA,OAAO,MAAM,qBAAqB;AAG9C,OAAO,MAAMC,UAAU,GAACA,CAACC,EAAE,EAAEC,QAAQ,KAAI,MAAMC,QAAQ,IAAI;EACvDA,QAAQ,CAAC;IAACC,IAAI,EAAE;EAAgB,CAAC,CAAC;EAClC,IAAG;IACC,MAAM;MAACC;IAAI,CAAC,GAAG,MAAMN,OAAO,CAACC,UAAU,CAACC,EAAE,EAAEC,QAAQ,CAAC;IACrDI,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAACF,IAAI,CAAC;IAClDF,QAAQ,CAAC;MAACC,IAAI,EAAE,kBAAkB;MAAEC,IAAI,EAAEA;IAAI,CAAC,CAAC;EACpD,CAAC,CACD,OAAMG,KAAK,EAAC;IACRL,QAAQ,CAAC;MAACC,IAAI,EAAE;IAAe,CAAC,CAAC;EACrC;AACJ,CAAC;AAGD,OAAO,MAAMK,UAAU,GAAGA,CAACR,EAAE,EAAEI,IAAI,KAAK,OAAOF,QAAQ,EAAEO,QAAQ,KAAK;EAClE,IAAI;IACF;IACA,MAAMX,OAAO,CAACU,UAAU,CAACR,EAAE,EAAEI,IAAI,CAAC;;IAElC;IACA,MAAMM,KAAK,GAAGD,QAAQ,CAAC,CAAC;IACxB,MAAME,WAAW,GAAG;MAAE,GAAGD,KAAK,CAACE,WAAW,CAACC,QAAQ,CAACC;IAAK,CAAC;IAC1DH,WAAW,CAACI,SAAS,CAACC,IAAI,CAAChB,EAAE,CAAC;;IAE9B;IACAE,QAAQ,CAAC;MAAEC,IAAI,EAAE,aAAa;MAAEC,IAAI,EAAEJ;IAAG,CAAC,CAAC;IAC3CE,QAAQ,CAAC;MAAEC,IAAI,EAAE,kBAAkB;MAAEC,IAAI,EAAEO;IAAY,CAAC,CAAC;EAC3D,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACd;EAAA;AAEJ,CAAC;AAED,OAAO,MAAMU,YAAY,GAAGA,CAACjB,EAAE,EAAEI,IAAI,KAAK,OAAOF,QAAQ,EAAEO,QAAQ,KAAK;EACtE,IAAI;IACF;IACA,MAAMX,OAAO,CAACmB,YAAY,CAACjB,EAAE,EAAEI,IAAI,CAAC;;IAEpC;IACA,MAAMM,KAAK,GAAGD,QAAQ,CAAC,CAAC;IACxB,MAAME,WAAW,GAAG;MAAE,GAAGD,KAAK,CAACE,WAAW,CAACC,QAAQ,CAACC;IAAK,CAAC;IAC1DH,WAAW,CAACI,SAAS,GAAGJ,WAAW,CAACI,SAAS,CAACG,MAAM,CAAEC,UAAU,IAAKA,UAAU,KAAKnB,EAAE,CAAC;;IAEvF;IACAE,QAAQ,CAAC;MAAEC,IAAI,EAAE,eAAe;MAAEC,IAAI,EAAEJ;IAAG,CAAC,CAAC;IAC7CE,QAAQ,CAAC;MAAEC,IAAI,EAAE,kBAAkB;MAAEC,IAAI,EAAEO;IAAY,CAAC,CAAC;EAC3D,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACd;EAAA;AAEJ,CAAC;AAGH,OAAO,MAAOa,WAAW,GAAIpB,EAAE,IAAK,MAAOE,QAAQ,IAAK;EACpDA,QAAQ,CAAC;IAAEC,IAAI,EAAE;EAAiB,CAAC,CAAC;EAEpC,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMN,OAAO,CAACuB,OAAO,CAACrB,EAAE,CAAC;IAC1CE,QAAQ,CAAC;MAAEC,IAAI,EAAE,kBAAkB;MAAEC;IAAK,CAAC,CAAC;IAC5C,OAAOA,IAAI,CAAC,CAAC;EACf,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdL,QAAQ,CAAC;MAAEC,IAAI,EAAE;IAAgB,CAAC,CAAC;IACnC,MAAMI,KAAK;EACb;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}