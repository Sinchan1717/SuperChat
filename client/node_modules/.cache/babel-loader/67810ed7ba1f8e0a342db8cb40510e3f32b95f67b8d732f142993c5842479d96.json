{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\D.Sinchan\\\\Desktop\\\\Main\\\\others1\\\\Accerlerlab\\\\client\\\\src\\\\components\\\\User\\\\User.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { followUser, unfollowUser } from \"../../actions/UserAction\";\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\nimport { Link } from \"react-router-dom\";\nimport { Loader } from \"@mantine/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst User = ({\n  person,\n  location\n}) => {\n  _s();\n  console.log(location);\n  const publicFolder = process.env.REACT_APP_PUBLIC_FOLDER;\n  const {\n    user\n  } = useSelector(state => state.authReducer.authData);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const [following, setFollowing] = useState(person.followers.includes(user._id));\n  const handleFollow = async () => {\n    if (following) {\n      try {\n        setLoading(true);\n        dispatch(unfollowUser(person._id, user));\n        setFollowing(false);\n        setLoading(false);\n        console.log(following);\n      } catch (error) {\n        console.error('Error unfollowing user:', error);\n      }\n    } else {\n      try {\n        setLoading(true);\n        dispatch(followUser(person._id, user));\n        setFollowing(true);\n        setLoading(false);\n        console.log(following);\n      } catch (error) {\n        console.error('Error following user:', error);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${location === 'modal' ? \"flex jcsb aic\" : \"follower\"}`,\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: `/profile/${person._id}`,\n      className: `${location === 'modal' ? \"flex g-10 aic\" : \"person-mob jcc\"}`,\n      children: [!person.profilePicture ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: publicFolder + \"defaultProfile.png\",\n        alt: \"profile\",\n        className: \"followerImage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 10\n      }, this)\n      // <AccountCircleIcon style={{height:\"3.2rem\",width:\"3.2rem\"}}/>\n      : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: publicFolder + person.profilePicture,\n        alt: \"profile\",\n        className: \"followerImage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"name\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [person.firstname, \" \", person.lastname]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), person._id !== user._id && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: following ? \"button fc-button UnfollowButton\" : \"button fc-button\",\n      onClick: handleFollow,\n      children: loading ? \"Loading...\" : following ? \"Unfollow\" : \"Follow\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 2\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(User, \"GWkV8YL4/PV71SCjsk14g0j7eRk=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = User;\nexport default User;\nvar _c;\n$RefreshReg$(_c, \"User\");","map":{"version":3,"names":["React","useState","useSelector","useDispatch","followUser","unfollowUser","AccountCircleIcon","Link","Loader","jsxDEV","_jsxDEV","User","person","location","_s","console","log","publicFolder","process","env","REACT_APP_PUBLIC_FOLDER","user","state","authReducer","authData","dispatch","loading","setLoading","following","setFollowing","followers","includes","_id","handleFollow","error","className","children","to","profilePicture","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","firstname","lastname","onClick","_c","$RefreshReg$"],"sources":["C:/Users/D.Sinchan/Desktop/Main/others1/Accerlerlab/client/src/components/User/User.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { followUser, unfollowUser } from \"../../actions/UserAction\";\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\nimport { Link } from \"react-router-dom\";\nimport { Loader } from \"@mantine/core\";\n\nconst User = ({ person,location }) => {\n  console.log(location)\n  const publicFolder = process.env.REACT_APP_PUBLIC_FOLDER;\n  const { user } = useSelector((state) => state.authReducer.authData);\n  const dispatch = useDispatch()\n  const [loading,setLoading] = useState(false)\n\n  const [following, setFollowing] = useState(\n    person.followers.includes(user._id) \n  );\n  const handleFollow = async () => {\n    if (following) {\n      try {\n        setLoading(true)\n         dispatch(unfollowUser(person._id, user));\n       \n        setFollowing(false);\n        setLoading(false)\n        console.log(following)\n      } catch (error) {\n       \n        console.error('Error unfollowing user:', error);\n      }\n    } else {\n      try {\n        setLoading(true)\n         dispatch(followUser(person._id, user));\n      \n        setFollowing(true);\n        setLoading(false)\n        console.log(following)\n      } catch (error) {\n \n        console.error('Error following user:', error);\n      }\n    }\n  };\n  \n  return (\n    <div className={`${location==='modal' ? \"flex jcsb aic\": \"follower\"}`}>\n\n      <Link to={`/profile/${person._id}`}  className={`${location==='modal' ? \"flex g-10 aic\": \"person-mob jcc\"}`}  >\n\n      {!person.profilePicture ? (\n         <img\n         src={publicFolder + \"defaultProfile.png\"}\n         alt=\"profile\"\n         className=\"followerImage\"\n       />\n  // <AccountCircleIcon style={{height:\"3.2rem\",width:\"3.2rem\"}}/>\n) : (\n  <img\n    src={publicFolder + person.profilePicture}\n    alt=\"profile\"\n    className=\"followerImage\"\n  />\n)}\n\n        <div className=\"name\">\n          <span>{person.firstname} {person.lastname}</span>\n          {/* <span>@{person.username}</span> */}\n        </div>\n      </Link>\n      { (person._id !== user._id ) &&\n <button\n className={\n   following ? \"button fc-button UnfollowButton\" : \"button fc-button\"\n }\n onClick={handleFollow}\n>\n  {loading ? (\"Loading...\") :(following ? \"Unfollow\" : \"Follow\" )}\n \n</button>\n      \n       \n      }\n      \n    </div>\n  );\n};\n\nexport default User;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}